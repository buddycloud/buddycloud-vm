# --------------
# How this works
# --------------
# 
# Salt states
# -----------
# check: /srv/salt/top.sls
# check: https://github.com/buddycloud/saltstack/tree/master/salt/top.sls
#
# summary: local changes will override http://github://buddycloud/saltstack
#
# Pillar values
# -------------
# check: /srv/pillar/top.sls
# check: [nothing else]
#
# summary: keep all your config values in /srv/pillar (and committed to a private repo)

fileserver_backend:
  - roots
  - git

# The buddycloud-vm will use /srv/salt-local/salt then fall back to trying
# the git version at https://github.com/buddycloud/saltstack
# To work locally:
# 1. sudo git clone https://github.com/buddycloud/saltstack.git /srv/buddycloud_saltstack_repo
# 2  uncomment the line "#   - /srv/buddycloud_saltstack_repo/salt"
file_roots:
  base:
    - /srv/salt_local/salt
#    - /srv/buddycloud_saltstack_repo/salt

# put your private keys, certificates and config data into 
# /srv/pillar/buddycloud/init.sls
pillar_roots:
  base:
    - /srv/salt_local/pillar

# apt-get install git-python for this to work
gitfs_provider: gitpython

# use the Buddycloud saltstates as fallback
gitfs_remotes:
  - http://github.com/buddycloud/saltstack.git:
    - base: master
    - root: salt
